<div class="space-y-6">
  <div class="sm:flex sm:items-center sm:justify-between">
    <h1 class="text-xl sm:text-2xl font-bold text-gray-900"><%= @user.username %></h1>
    <div class="mt-3 sm:mt-0 flex flex-col sm:flex-row gap-2">
      <%= link_to t("admin.users.edit"), edit_admin_user_path(@user),
          class: "inline-flex items-center justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500" %>
      <%= link_to t("admin.users.back_to_list"), admin_users_path,
          class: "inline-flex items-center justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" %>
    </div>
  </div>

  <div class="overflow-hidden rounded-lg bg-white shadow">
    <div class="px-4 py-4 sm:p-6">
      <dl class="grid grid-cols-1 gap-x-4 gap-y-4 sm:gap-y-6 sm:grid-cols-2">
        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t("admin.users.username") %></dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @user.username %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t("admin.users.type") %></dt>
          <dd class="mt-1">
            <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium
              <%= case @user.user_type
                  when 'basic' then 'bg-gray-100 text-gray-800'
                  when 'curator' then 'bg-emerald-100 text-emerald-800'
                  when 'admin' then 'bg-indigo-100 text-indigo-800'
                  end %>">
              <%= t("admin.users.types.#{@user.user_type}") %>
            </span>
          </dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t("admin.users.created_at") %></dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @user.created_at.strftime("%d.%m.%Y %H:%M") %></dd>
        </div>
        <div>
          <dt class="text-sm font-medium text-gray-500"><%= t("admin.users.updated_at") %></dt>
          <dd class="mt-1 text-sm text-gray-900"><%= @user.updated_at.strftime("%d.%m.%Y %H:%M") %></dd>
        </div>
      </dl>
    </div>
  </div>

  <% unless @user == current_user %>
    <!-- Danger Zone -->
    <div class="rounded-lg border-2 border-red-200 bg-red-50">
      <div class="px-4 py-4 sm:p-6">
        <h3 class="text-base font-medium text-red-900 mb-2"><%= t("admin.users.danger_zone", default: "Danger Zone") %></h3>
        <p class="text-sm text-red-700 mb-4"><%= t("admin.users.delete_warning", default: "Permanently delete this user. This action cannot be undone.") %></p>

        <%= form_with url: admin_user_path(@user), method: :delete, class: "space-y-4", data: { turbo_confirm: t("admin.users.confirm_delete", username: @user.username) } do |f| %>
          <div class="flex flex-col sm:flex-row gap-3">
            <div class="flex-1">
              <label for="admin_username" class="sr-only"><%= t("admin.credentials.username", default: "Admin Username") %></label>
              <input type="text"
                     name="admin_username"
                     id="admin_username"
                     placeholder="<%= t("admin.credentials.username", default: "Admin Username") %>"
                     required
                     autocomplete="username"
                     class="block w-full rounded-md border-red-300 shadow-sm focus:border-red-500 focus:ring-red-500 text-sm">
            </div>
            <div class="flex-1">
              <label for="admin_password" class="sr-only"><%= t("admin.credentials.password", default: "Admin Password") %></label>
              <input type="password"
                     name="admin_password"
                     id="admin_password"
                     placeholder="<%= t("admin.credentials.password", default: "Admin Password") %>"
                     required
                     autocomplete="current-password"
                     class="block w-full rounded-md border-red-300 shadow-sm focus:border-red-500 focus:ring-red-500 text-sm">
            </div>
            <button type="submit"
                    class="inline-flex items-center justify-center rounded-md bg-red-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
              <%= t("admin.users.delete", default: "Delete User") %>
            </button>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
