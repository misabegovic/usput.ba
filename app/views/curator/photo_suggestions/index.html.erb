<div class="space-y-4 sm:space-y-6">
  <div class="flex items-center justify-between">
    <h1 class="text-xl sm:text-2xl font-bold text-gray-900"><%= t("curator.photo_suggestions.my_suggestions") %></h1>
  </div>

  <% if @photo_suggestions.any? %>
    <div class="overflow-hidden rounded-lg bg-white shadow">
      <ul class="divide-y divide-gray-200">
        <% @photo_suggestions.each do |suggestion| %>
          <li class="px-4 py-4 sm:px-6">
            <div class="flex items-start gap-4">
              <%# Photo preview %>
              <div class="flex-shrink-0">
                <% if suggestion.photo.attached? %>
                  <%= image_tag rails_blob_path(suggestion.photo.variant(:thumb), disposition: "inline"),
                      class: "h-16 w-16 rounded-lg object-cover" %>
                <% elsif suggestion.photo_url.present? %>
                  <%= image_tag suggestion.photo_url, class: "h-16 w-16 rounded-lg object-cover",
                      onerror: "this.src='data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\" fill=\"%23ccc\"><rect width=\"64\" height=\"64\"/></svg>'" %>
                <% else %>
                  <div class="h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center">
                    <svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                    </svg>
                  </div>
                <% end %>
              </div>

              <%# Details %>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2">
                  <%= link_to suggestion.location.name, curator_location_path(suggestion.location),
                      class: "text-sm font-medium text-gray-900 hover:text-emerald-600" %>
                  <% case suggestion.status %>
                  <% when "pending" %>
                    <span class="inline-flex items-center rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-800">
                      <%= t("curator.photo_suggestions.status.pending") %>
                    </span>
                  <% when "approved" %>
                    <span class="inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800">
                      <%= t("curator.photo_suggestions.status.approved") %>
                    </span>
                  <% when "rejected" %>
                    <span class="inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-xs font-medium text-red-800">
                      <%= t("curator.photo_suggestions.status.rejected") %>
                    </span>
                  <% end %>
                </div>
                <% if suggestion.description.present? %>
                  <p class="mt-1 text-sm text-gray-500 truncate"><%= suggestion.description.truncate(100) %></p>
                <% end %>
                <p class="mt-1 text-xs text-gray-400">
                  <%= t("curator.photo_suggestions.submitted_on", date: suggestion.created_at.strftime("%d.%m.%Y %H:%M")) %>
                </p>
                <% if suggestion.admin_notes.present? %>
                  <p class="mt-1 text-xs text-gray-600">
                    <span class="font-medium"><%= t("curator.photo_suggestions.admin_feedback") %>:</span>
                    <%= suggestion.admin_notes %>
                  </p>
                <% end %>
              </div>
            </div>
          </li>
        <% end %>
      </ul>
    </div>

    <%= paginate @photo_suggestions %>
  <% else %>
    <div class="text-center py-12 bg-white rounded-lg shadow">
      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
      </svg>
      <h3 class="mt-2 text-sm font-semibold text-gray-900"><%= t("curator.photo_suggestions.no_suggestions") %></h3>
      <p class="mt-1 text-sm text-gray-500"><%= t("curator.photo_suggestions.no_suggestions_hint") %></p>
    </div>
  <% end %>
</div>
