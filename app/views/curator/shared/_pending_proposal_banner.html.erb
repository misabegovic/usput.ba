<%# Banner to display when there's a pending proposal for a resource %>
<%# Expects: pending_proposal (ContentChange or nil) %>

<% if pending_proposal.present? %>
  <div class="rounded-lg bg-amber-50 border border-amber-200 p-4 mb-4">
    <div class="flex">
      <div class="flex-shrink-0">
        <svg class="h-5 w-5 text-amber-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
        </svg>
      </div>
      <div class="ml-3 flex-1">
        <h3 class="text-sm font-medium text-amber-800">
          <%= t("curator.proposals.pending_for_resource") %>
        </h3>
        <div class="mt-2 text-sm text-amber-700">
          <p>
            <%= t("curator.proposals.pending_proposal_info",
                type: pending_proposal.change_type.humanize,
                user: pending_proposal.user.username,
                date: pending_proposal.created_at.strftime("%d.%m.%Y %H:%M")) %>
          </p>
          <% if pending_proposal.contributions.any? %>
            <p class="mt-1">
              <%= t("curator.proposals.contributors_count", count: pending_proposal.contributions.count) %>
            </p>
          <% end %>
        </div>
        <div class="mt-3">
          <%= link_to curator_proposal_path(pending_proposal),
              class: "inline-flex items-center rounded-md bg-amber-100 px-3 py-2 text-sm font-medium text-amber-800 hover:bg-amber-200" do %>
            <svg class="h-4 w-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <%= t("curator.proposals.view_proposal") %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>
